<!DOCTYPE html>
<!--[if lt IE 7]> <html class="ie lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="ie lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="ie lt-ie9"> <![endif]-->
<!--[if gt IE 8]> <html> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!-- <![endif]-->

<head>
	<title>Happy Birthday MaiLy</title>
	<meta charset="UTF-8" />
	<meta name="description" content="Happy Birthday Xola">
	<meta name="robots" content="index, follow" />
	<meta name="keywords" content="Birthday, Happy">
	<meta property="og:type" content="E-Greeting" />
	<meta property="og:description" content="Wish you a very Happy Birthday">
	<meta property="og:url" content="https://tdn352001.github.io/maily" />
	<meta property="og:image" content="https://tdn352001.github.io/maily/maily.jpg" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	<link rel="author" href="https://plus.google.com/u/1/+AyushSharma1/" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="stylesheet.css">
	<link rel="stylesheet" type="text/css" href="loading.css">
	<link href='http://fonts.googleapis.com/css?family=Signika' rel='stylesheet' type='text/css'>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Lato:wght@700;900&display=swap" rel="stylesheet">
	<link rel="stylesheet/less" href="cake.less">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
	<script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.1.0/less.min.js"></script>
</head>

<body>
	<div class="loading"></div>
	<audio class="song" controls loop>
		<source src="hbd.mp3">
		</source>
		Your browser isn't invited for super fun audio time.
	</audio>
	<div class="balloons text-center" id="b1">
		<h2 style="color:#F2B300;">❤️</h2>
	</div>
	<div class="balloons text-center" id="b2">
		<h2 style="color:#0719D4;">M</h2>
	</div>
	<div class="balloons text-center" id="b3">
		<h2 style="color:#D14D39;">a</h2>
	</div>
	<div class="balloons text-center" id="b4">
		<h2 style="color:#8FAD00;">i</h2>
	</div>
	<div class="balloons text-center" id="b5">
		<h2 style="color:#8377E4;">L</h2>
	</div>
	<div class="balloons text-center" id="b6">
		<h2 style="color:#99C96A;">Y</h2>
	</div>
	<div class="balloons text-center" id="b7">
		<h2 style="color:#20CFB4;">❤️</h2>
	</div>

	<img src="Balloon-Border.png" width="100%" class="balloon-border">


	<div class="container">

		<div class="row">
			<div class="col-md-2 col-xs-2 bulb-holder">
				<div class="bulb" id="bulb_yellow"></div>
			</div>
			<div class="col-md-2 col-xs-2 bulb-holder">
				<div class="bulb" id="bulb_red"></div>
			</div>
			<div class="col-md-2 col-xs-2 bulb-holder">
				<div class="bulb" id="bulb_blue"></div>
			</div>
			<div class="col-md-2 col-xs-2 bulb-holder">
				<div class="bulb" id="bulb_green"></div>
			</div>
			<div class="col-md-2 col-xs-2 bulb-holder">
				<div class="bulb" id="bulb_pink"></div>
			</div>
			<div class="col-md-2 col-xs-2 bulb-holder">
				<div class="bulb" id="bulb_orange"></div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12 text-center">
				<img src="banner.png" class="bannar">
			</div>
		</div>
		<div class="row cake-cover">
			<div class="col-md-12 texr-center">
				<div class="cake">
					<div class="velas">
						<div class="fuego"></div>
						<div class="fuego"></div>
						<div class="fuego"></div>
						<div class="fuego"></div>
						<div class="fuego"></div>
					</div>
					<div class="cobertura"></div>
					<div class="bizcocho"></div>
				</div>
			</div>
		</div>
		<div class="row message">
			<div class="col-md-12">
				<p>Đợi tí nhé 🤫</p>
				<p>Một chút nữa thôi...🥰</p>
				<p>Một chút chút nữa... 🥺</p>
				<p><strong>Đây rồi 👉👈</strong></p>
				<p>Chờ cái gì???</p>
				<p>Không có gì đâu mà chờ😏</p>
				<p>Tin người vl😏 </p>
			</div>
		</div>
		<div class="navbar navbar-fixed-bottom">
			<div class="row">
				<div class="col-md-6 text-center col-md-offset-3">
					<button class="btn btn-primary" id="turn_on">Turn On Lights</button>
					<button class="btn btn-primary" id="play">Play Music</button>
					<button class="btn btn-primary" id="bannar_coming">Let's Decorate</button>
					<button class="btn btn-primary" id="balloons_flying">Fly With Balloons</button>
					<button class="btn btn-primary" id="cake_fadein">Most Delicious Cake Ever</button>
					<button class="btn btn-primary" id="light_candle"> Light Candle</button>
					<button class="btn btn-primary" id="wish_message">Happy Birthday</button>
					<button class="btn btn-primary" id="story">A mesage for you</button>
					<!-- <button class="btn btn-primary" id="cake_cut">Lrt's Cut the Cake</button> -->
				</div>
			</div>
		</div>
	</div>

	<div id="canvas" class="canvas-container">
		<h1>Happy Birthday</h1>

		<div class="swiper1 mySwiper1">
			<div class="swiper-wrapper">
				<div class="swiper-slide">
					<img src="./img1.jpg" alt="">
				</div>
				<div class="swiper-slide">
					<img src="./img2.jpg" alt="">
				</div>
				<div class="swiper-slide">
					<img src="./img3.jpg" alt="">
				</div>
				<div class="swiper-slide">
					<img src="./img4.jpg" alt="">
				</div>
			</div>
		</div>

		<div class="swiper2 mySwiper2">
			<div class="swiper-wrapper">
				<div class="swiper-slide">💌</div>
				<div class="swiper-slide">Happy Birthday 🎂🎂🎂</div>
				<div class="swiper-slide">Vậy thôi 🤷🤷‍♂️</div>
				<div class="swiper-slide">Không có gì nữa đâu 🙎🙎‍♂️</div>
				<div class="swiper-slide">Yêu anh khum? 🙆🙆‍♂️🙆‍♀️</div>
				<div class="swiper-slide">Yêu đi, anh cho Bill Chilling =)) 👉👈</div>
				<div class="swiper-slide">Iu em 🤵‍♀️👰</div>
				<div class="swiper-slide">Không iu thì trả dép bố về 😏😏</div>
			</div>
		</div>


		<img class="img-heart" src="./heart.gif" alt="">
		<canvas id="birthday"></canvas>
	</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
<script src="effect.js"></script>
<script>
	(function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date(); a = s.createElement(o),
			m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
	})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

	ga('create', 'UA-58229732-1', 'auto');
	ga('send', 'pageview');

</script>

<script>
	// helper functions
	const PI2 = Math.PI * 2
	const random = (min, max) => Math.random() * (max - min + 1) + min | 0
	const timestamp = _ => new Date().getTime()

	// container
	class Birthday {
		constructor() {
			this.resize()

			// create a lovely place to store the firework
			this.fireworks = []
			this.counter = 0

		}

		resize() {
			this.width = canvas.width = window.innerWidth
			let center = this.width / 2 | 0
			this.spawnA = center - center / 4 | 0
			this.spawnB = center + center / 4 | 0

			this.height = canvas.height = window.innerHeight
			this.spawnC = this.height * .1
			this.spawnD = this.height * .5

		}

		onClick(evt) {
			let x = evt.clientX || evt.touches && evt.touches[0].pageX
			let y = evt.clientY || evt.touches && evt.touches[0].pageY

			let count = random(3, 5)
			for (let i = 0; i < count; i++) this.fireworks.push(new Firework(
				random(this.spawnA, this.spawnB),
				this.height,
				x,
				y,
				random(0, 260),
				random(30, 110)))

			this.counter = -1

		}

		update(delta) {
			ctx.globalCompositeOperation = 'hard-light'
			ctx.fillStyle = `rgba(20,20,20,${7 * delta})`
			ctx.fillRect(0, 0, this.width, this.height)

			ctx.globalCompositeOperation = 'lighter'
			for (let firework of this.fireworks) firework.update(delta)

			// if enough time passed... create new new firework
			this.counter += delta * 3 // each second
			if (this.counter >= 1) {
				this.fireworks.push(new Firework(
					random(this.spawnA, this.spawnB),
					this.height,
					random(0, this.width),
					random(this.spawnC, this.spawnD),
					random(0, 360),
					random(30, 110)))
				this.counter = 0
			}

			// remove the dead fireworks
			if (this.fireworks.length > 1000) this.fireworks = this.fireworks.filter(firework => !firework.dead)

		}
	}

	class Firework {
		constructor(x, y, targetX, targetY, shade, offsprings) {
			this.dead = false
			this.offsprings = offsprings

			this.x = x
			this.y = y
			this.targetX = targetX
			this.targetY = targetY

			this.shade = shade
			this.history = []
		}
		update(delta) {
			if (this.dead) return

			let xDiff = this.targetX - this.x
			let yDiff = this.targetY - this.y
			if (Math.abs(xDiff) > 3 || Math.abs(yDiff) > 3) { // is still moving
				this.x += xDiff * 2 * delta
				this.y += yDiff * 2 * delta

				this.history.push({
					x: this.x,
					y: this.y
				})

				if (this.history.length > 20) this.history.shift()

			} else {
				if (this.offsprings && !this.madeChilds) {

					let babies = this.offsprings / 2
					for (let i = 0; i < babies; i++) {
						let targetX = this.x + this.offsprings * Math.cos(PI2 * i / babies) | 0
						let targetY = this.y + this.offsprings * Math.sin(PI2 * i / babies) | 0

						birthday.fireworks.push(new Firework(this.x, this.y, targetX, targetY, this.shade, 0))

					}

				}
				this.madeChilds = true
				this.history.shift()
			}

			if (this.history.length === 0) this.dead = true
			else if (this.offsprings) {
				for (let i = 0; this.history.length > i; i++) {
					let point = this.history[i]
					ctx.beginPath()
					ctx.fillStyle = 'hsl(' + this.shade + ',100%,' + i + '%)'
					ctx.arc(point.x, point.y, 1, 0, PI2, false)
					ctx.fill()
				}
			} else {
				ctx.beginPath()
				ctx.fillStyle = 'hsl(' + this.shade + ',100%,50%)'
				ctx.arc(this.x, this.y, 1, 0, PI2, false)
				ctx.fill()
			}

		}
	}

	let canvas = document.getElementById('birthday')
	canvas.width = window.innerWidth
	canvas.height = window.innerHeight
	let ctx = canvas.getContext('2d')

	let then = timestamp()

	let birthday = new Birthday
	window.onresize = () => birthday.resize()
	document.onclick = evt => birthday.onClick(evt)
	document.ontouchstart = evt => birthday.onClick(evt)

		; (function loop() {
			requestAnimationFrame(loop)

			let now = timestamp()
			let delta = now - then

			then = now
			birthday.update(delta / 1000)


		})()
</script>

</html>